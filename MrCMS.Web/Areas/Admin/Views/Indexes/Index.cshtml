@using MrCMS.Helpers
@model System.Collections.Generic.List<MrCMS.Services.MrCMSIndex>
@{
    ViewBag.Title = "Indexes";
}
<div class="row-fluid">
    <div class="span4">
        <h2>Indexes</h2>
    </div>
    <div class="span8">
        <div class="btn-group  display-inline  pull-right">
        </div>
    </div>
</div>
<div class="row-fluid">
    <table class="table table-striped table-bordered">
        <tr>
            <th>Name
            </th>
            <th>Exists?
            </th>
            <th>Number of docs
            </th>
            <th>Last Modified
            </th>
            <th></th>
        </tr>
        @foreach (var index in Model)
        {
            <tr>
                <td>
                    @index.Name
                </td>
                <td>
                    @index.DoesIndexExist
                </td>
                <td>
                    @(index.NumberOfDocs.HasValue ? index.NumberOfDocs.ToString() : "-")
                </td>
                <td>
                    @(index.LastModified.HasValue ? index.LastModified.Value.ToString("dd/MM/yyyy HH:mm:ss") : "-")
                </td>
                <td>
                    <div class="btn-group">
                        @if (index.DoesIndexExist)
                        {
                            @Html.FormLink("Reindex", "Reindex", new {type = index.TypeName}, new {@class = "btn btn-mini"})
                            @Html.FormLink("Optimise", "Optimise", new {type = index.TypeName}, new {@class = "btn btn-mini"})
                        }
                        else
                        {
                            @Html.FormLink("Create", "Create", new {type = index.TypeName}, new {@class = "btn btn-mini"})
                        }
                    </div>
                </td>
            </tr>
        }
    </table>
</div>

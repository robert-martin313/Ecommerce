@using System.Web.Mvc.Html
@using MrCMS.Helpers
@using MrCMS.Web.Apps.Amazon.Models
@model AmazonSyncModel
@{
    ViewBag.Title = "Sync Orders";
}
    <fieldset>
        <legend>
            Sync Orders from Amazon to MrCMS
            <span class="btn-group  display-inline  pull-right">
                @Html.ActionLink("Back to Orders", "Index", "Orders", null, new { @class = "btn btn-primary"})
                @Html.ActionLink("Logs", "Index", "Logs", new {type=AmazonLogType.Orders}, new { @class = "btn btn-success"})
            </span>
        </legend>
        
        @Html.Hidden("TaskId",Guid.NewGuid())
        
        <div id="pb" style="display: none">
            <div class="progress progress-info progress-striped">
                <div class="bar" style="width: 0;"></div>
            </div>
        </div>

        <div class="row-fluid">
            <div class="span6">
                <p>
                    Sync All Orders:
                </p>
                @Html.LabelFor(x => x.From)
                @Html.EditorFor(x => x.From, new {@class = "span12"})
                @Html.ValidationMessageFor(x => x.From)
                
                @Html.LabelFor(x => x.To)
                @Html.EditorFor(x => x.To, new {@class = "span12"})
                @Html.ValidationMessageFor(x => x.To)
                <br/>
                <br/>

                <button type="button" class="btn btn-success" id="pb-start-task">
                    Sync Now</button>
            </div>
            <div class="span6">
                <div id="pb-status" style="display: none">
                    @{Html.RenderAction("ProgressBarMessages","App",new {Model.TaskId}); }
                </div>
            </div>
        </div>
       
    </fieldset>

@{ Html.IncludeScript("~/Apps/Amazon/Areas/Admin/Content/Scripts/custom/progress-bar-paged.js");}
@{ Html.IncludeScript("~/Apps/Amazon/Areas/Admin/Content/Scripts/custom/orders.js");}

@{ Html.IncludeCss("~/Apps/Amazon/Areas/Admin/Content/Styles/progress-bar.css"); }